{% extends 'base.html.twig' %}

{% block title %}Iniciar Sesión | Sistema Escolar
{% endblock %}

{% block content %}


	<div class="rbt-elements-area bg-color-white rbt-section-gap">
		<div class="container">
			<div class="row gy-5 row--30">

				<div class="col-lg-6"></div>

				<div class="col-lg-6">
					<div class="rbt-contact-form contact-form-style-1 max-width-auto">
						<h3 class="title">Iniciar Sesión</h3>

						{% if error %}
							<div class="alert alert-danger" role="alert">
								<div class="d-flex gap-4">
									<span>
										<i class="fa-solid fa-circle-exclamation icon-danger"></i>
									</span>
									<div class="d-flex flex-column gap-2">
										<h6 class="mb-0">Error de autenticación:</h6>
										<p class="mb-0">{{ error.messageKey|trans(error.messageData, 'security') }}</p>
									</div>
								</div>
							</div>
						{% endif %}

						{% if app.user %}
							<div class="alert alert-primary" role="alert">
								<div class="d-flex gap-4">
									<span>
										<i class="fa-solid fa-circle-info icon-primary"></i>
									</span>
									<div class="d-flex flex-column gap-2">
										<h6 class="mb-0">Estás logueado como:</h6>
										<p class="mb-0">{{ app.user.userIdentifier }}</p>
										<a href="{{ path('app_logout') }}" class="btn btn-primary">Cerrar Sesión</a>
									</div>
								</div>
							</div>
						{% endif %}

						<!--form class=" max-width-auto">
																																																							<div class="form-group">
																																																								<input name="con_name" type="text">
																																																								<label>Usuario o email *</label>
																																																								<span class="focus-border"></span>
																																																							</div>
																																																							<div class="form-group">
																																																								<input name="con_email" type="email">
																																																								<label>Password *</label>
																																																								<span class="focus-border"></span>
																																																							</div>
																																																
																																																
																																																							<div class="form-submit-group">
																																																								<button type="submit" class="rbt-btn btn-md btn-gradient hover-icon-reverse w-100">
																																																									<span class="icon-reverse-wrapper">
																																																										<span class="btn-text">Ingresar</span>
																																																										<span class="btn-icon">
																																																											<i class="feather-arrow-right"></i>
																																																										</span>
																																																										<span class="btn-icon">
																																																											<i class="feather-arrow-right"></i>
																																																										</span>
																																																									</span>
																																																								</button>
																																																							</div>
																																																						</form-->


						<form class="max-width-auto" method="post">


							<div class="form-group">
								<label for="username">Email</label>
								<input type="email" value="{{ last_username }}" name="_username" id="username" placeholder="nombre@dominio.com" autocomplete="email" required autofocus>
								<span class="focus-border"></span>
							</div>


							<div class="form-group">
								<label for="password">Contraseña</label>
								<input type="password" name="_password" id="password" autocomplete="current-password" required>
								<span class="focus-border"></span>
							</div>


							<input type="hidden" name="_csrf_token" data-controller="csrf-protection" value="{{ csrf_token('authenticate') }}">


							<div class="form-submit-group">
								<button type="submit" class="rbt-btn btn-md btn-gradient hover-icon-reverse w-100">
									<span class="icon-reverse-wrapper">
										<span class="btn-text">Ingresar</span>
										<span class="btn-icon">
											<i class="feather-arrow-right"></i>
										</span>
										<span class="btn-icon">
											<i class="feather-arrow-right"></i>
										</span>
									</span>
								</button>
							</div>


						</form>


					</div>
				</div>

			</div>
		</div>
	</div>


	<!-- Información de prueba -->
	<div class="mt-6 p-3 bg-gray-100 dark:bg-gray-700 rounded-lg text-sm text-gray-600 dark:text-gray-400 space-y-2">
		<p class="font-semibold text-gray-900 dark:text-white">Credenciales de prueba:</p>
		<ul class="list-disc list-inside space-y-1">
			<li>**Estudiante:** estudiante0@electivoia.local / 123456</li>
			<li>**Admin:** admin@electivoia.local / 123456</li>
		</ul>
	</div>
</div></div>{% endblock %}
